{"version":3,"file":"Search.stories-jInutEjy.js","sources":["../../src/1.11.0/dsfr/components/search/component/js/search-sizes.js","../../src/1.11.0/dsfr/components/form/component/js/hint.js","../../src/1.11.0/dsfr/components/form/component/js/label.js","../../src/1.11.0/dsfr/components/input/component/js/input.js","../../src/1.11.0/dsfr/components/search/component/js/search.js"],"sourcesContent":["export const SearchSizes = {\n  MEDIUM: 'md',\n  LARGE: 'lg'\n};\n","import { Basis } from '../../../basis';\n\nclass Hint extends Basis {\n  constructor (data = {\n    id : '',\n    classes : [],\n    attributes : {},\n    text : '',\n    markup: null\n  }) {\n    super(data);\n    this._text = data.text;\n    this._markup = data.markup || 'span';\n  }\n\n  get classes () {\n    return [\n      'fr-hint-text',\n      ... super.classes\n    ];\n  }\n\n  get html () {\n    return `<${this._markup} ${this.includeClasses()} ${this.includeAttributes()}>${this._text}</${this._markup}>`;\n  }\n}\n\nexport { Hint };\n","import { Basis } from '../../../basis';\nimport { Hint } from './hint';\n\nclass Label extends Basis {\n  constructor (data = {\n    id : '',\n    classes : [],\n    attributes : {},\n    label : '',\n    for: '',\n    hint: null\n  }) {\n    super(data);\n    this._label = data.label;\n    this._hint = data.hint;\n  }\n\n  get attributes () {\n    const attributes = {\n      ... super.attributes\n    };\n\n    if (this._for) {\n      attributes.for = this._for;\n    }\n\n    return attributes;\n  }\n\n  get classes () {\n    return [\n      'fr-label',\n      ... super.classes\n    ];\n  }\n\n  get html () {\n    let append = '';\n\n    switch (true) {\n      case !this._hint:\n        break;\n\n      case Array.isArray(this._hint):\n        append = this._hint.map(hint => new Hint(hint).html.join(''));\n        break;\n\n      default:\n        append = new Hint(this._hint).html;\n    }\n\n    return `<label ${this.includeClasses()} ${this.includeAttributes()}>${this._label}${append}</label>`;\n  }\n}\n\nexport { Label };\n","import { Basis } from '../../../basis';\nimport { Label } from '../../../form/component/js/label';\n\nclass Input extends Basis {\n  constructor (data = {\n    id : '',\n    classes : [],\n    attributes : {},\n    label : null,\n    type : null,\n    placeholder: ''\n  }) {\n    super(data);\n    this._label = new Label({ label: data.label, for: data.id });\n    this._type = data.type || 'text';\n    this._placeholder = data.placeholder;\n  }\n\n  get attributes () {\n    const attributes = {\n      ... super.attributes,\n      type: this._type\n    };\n\n    if (this._placeholder) {\n      attributes.placeholder = this._placeholder;\n    }\n\n    return attributes;\n  }\n\n  get classes () {\n    return [\n      'fr-input',\n      ... super.classes\n    ];\n  }\n\n  get html () {\n    return `${this._label.html}<input ${this.includeClasses()} ${this.includeAttributes()} />`;\n  }\n}\n\nexport { Input };\n","import { Basis } from '../../../basis';\nimport { SearchSizes } from './search-sizes';\nimport { Input } from '../../../input/component/js/input';\nimport { Button } from '../../../button/component/js/button';\n\nclass Search extends Basis {\n  constructor (data = {\n    id : 'search',\n    classes : [],\n    attributes : {},\n    placeholder: '',\n    size: null,\n    input: null,\n    button: null,\n  }) {\n    super(data);\n    this.size = data.size;\n    const input = data.input || {};\n    if (data.placeholder) input.placeholder = data.placeholder;\n    if (!input.id && data.id) input.id = `${data.id}-input`;\n    this._input = new Input(input);\n    this._button = new Button(data.button ? data.button : { label: 'Rechercher' });\n  }\n\n  set size (value) {\n    if (!Object.values(SearchSizes).includes(value)) return;\n    this._size = value;\n  }\n\n  get size () {\n    return this._size;\n  }\n\n  get attributes () {\n    const attributes = {\n      ... super.attributes,\n      role: 'search'\n    };\n\n    return attributes;\n  }\n\n  get classes () {\n    const classes = [\n      'fr-search-bar',\n      ... super.classes\n    ];\n\n    if (this._size && this._size !== SearchSizes.MEDIUM) {\n      classes.push(`fr-search-bar--${this._size}`);\n    }\n\n    return classes;\n  }\n\n  get html () {\n    return `\n      <div ${this.includeClasses()} ${this.includeAttributes()}>\n        ${this._input.html}\n        ${this._button.html}\n      </div>\n    `;\n  }\n}\n\nexport { Search };\n"],"names":["SearchSizes","Hint","Basis","data","Label","attributes","append","hint","Input","Search","input","Button","value","classes"],"mappings":"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"}